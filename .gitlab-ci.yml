stages:
  - build&test

tests:
  stage: build&test  
  script: 
    - mkdir -p Settings
    - echo "{\"AppSid\":\"$WordsAppSid\",\"AppKey\":\"$WordsAppKey\",\"BaseUrl\":\"$WordsBaseUrl\" }" > Settings/servercreds.json
    - docker run --rm -v $PWD:/opt/project -w=/opt/project python:2.7.15 bash scripts/build.sh
  artifacts:
    paths:       
      - 'nodesets.xml'   
    reports: 
      junit: 
        - 'nodesets.xml'   
  tags:
    - awcloud-linux